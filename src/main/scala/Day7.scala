import scala.collection.mutable
import scala.util.Try

sealed trait FileTree

case class File(name: String, size: Int) extends FileTree

case class Dir(name: String, contents: mutable.Map[String, FileTree], parent: Option[Dir]) extends FileTree

def buildTree(s: String): Dir =
  val root: Dir = Dir("/", mutable.Map(), None)
  var curDir: Dir = root
  s.split('\n').foreach((line: String) => line.split(" ").toList match
    case List("$", "cd", "/") => curDir = root
    case List("$", "cd", "..") => curDir = curDir.parent.get
    case List("$", "cd", dirName: String) => curDir = curDir.contents(dirName).asInstanceOf[Dir]
    case List("$", "ls") => None
    case List("dir", name: String) => curDir.contents(name) = Dir(s"${curDir.name}$name/", mutable.Map(), parent = Some(curDir))
    case List(size: String, name: String) => curDir.contents(name) = File(s"${curDir.name}$name", size.toInt)
    case _ => throw new IllegalArgumentException(s"Unrecognized entry: $line")
  )
  root

def directorySizes(root: Dir): Map[String, Int] =
  def rec(dir: Dir): List[(String, Int)] =
    dir.contents.toList.flatMap((_, tree: FileTree) => tree match
      case File(_, size) =>
        val folders: Array[String] = dir.name.split("/")
        List(("/", size)) ++ (2 to folders.length).map(folders.slice(0, _).mkString("/")).map((_, size))
      case child: Dir => rec(child)
    )

  rec(root).groupBy(_._1).toList.map((dir, sizes) => (dir, sizes.map(_._2).sum)).toMap

def part1(s: String): Int =
  val tree: Dir = buildTree(s)
  val sizes: Map[String, Int] = directorySizes(tree)
  sizes.values.filter(_ <= 100000).sum

def part2(s: String): Int =
  val tree: Dir = buildTree(s)
  val sizes: Map[String, Int] = directorySizes(tree)
  val totalSpace: Int = 70000000
  val usedSpace: Int = sizes("/")
  val availableSpace: Int = totalSpace - usedSpace
  val neededSpace: Int = 30000000
  sizes.values.filter(_ >= neededSpace - availableSpace).min

def reprFileTree(tree: FileTree, depth: Int = 0): String =
  tree match
    case File(name, size) => s"${"  " * depth}- ${name.split("/").last} (file, size=$size)"
    case Dir(name, contents, _) => s"${"  " * depth}- ${Try(name.split("/").last).getOrElse("/")} (dir)" + contents.values.map(reprFileTree(_, depth + 1)).mkString("\n", "\n", "")

def printFileTree(tree: FileTree): Unit =
  println(reprFileTree(tree))

@main
def day7(): Unit =
  val input: String = "$ cd /\n$ ls\ndir bntdgzs\n179593 cjw.jgc\n110209 grbwdwsm.znn\ndir hsswswtq\ndir jdfwmhg\ndir jlcbpsr\n70323 qdtbvqjj\n48606 qdtbvqjj.zdg\ndir tvcr\ndir vhjbjr\ndir vvsg\n270523 wpsjfqtn.ljt\n$ cd bntdgzs\n$ ls\n297955 gcwcp\n$ cd ..\n$ cd hsswswtq\n$ ls\ndir bsjbvff\ndir dpgvp\n267138 grbwdwsm.znn\ndir hldgfpvh\ndir jdfwmhg\ndir jtgdv\n93274 ptsd.nzh\n268335 qdtbvqjj.dlh\n185530 qdtbvqjj.jrw\ndir vcbqdj\ndir wtrsg\n$ cd bsjbvff\n$ ls\ndir dmnt\n148799 grbwdwsm.znn\n324931 hzmqrfc.lsd\n211089 qdtbvqjj\n$ cd dmnt\n$ ls\n221038 zht\n$ cd ..\n$ cd ..\n$ cd dpgvp\n$ ls\ndir fzttpjtd\ndir jdrbwrc\ndir rwz\ndir tssm\n$ cd fzttpjtd\n$ ls\n149872 jdfwmhg\n$ cd ..\n$ cd jdrbwrc\n$ ls\n149973 hpgg.srm\ndir ptsd\n$ cd ptsd\n$ ls\n2594 twzf.pqq\n$ cd ..\n$ cd ..\n$ cd rwz\n$ ls\ndir jdfwmhg\n302808 zzlh\n$ cd jdfwmhg\n$ ls\n229683 cdcrgcmh\n218733 nhzt\n$ cd ..\n$ cd ..\n$ cd tssm\n$ ls\ndir ptsd\n37272 qfnnrqsh.qvg\n215066 wnvjc.jqf\n$ cd ptsd\n$ ls\n24102 bwtbht.dwq\n224035 qdtbvqjj.dmp\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd hldgfpvh\n$ ls\n316712 grbwdwsm.znn\n328950 tqvgqjrr\n$ cd ..\n$ cd jdfwmhg\n$ ls\n130652 gcwcp\ndir jdfwmhg\n215427 lfw.zml\ndir qdtbvqjj\n4181 rgsvgssj.qsr\n$ cd jdfwmhg\n$ ls\ndir bvm\ndir hsswswtq\n122279 qznt.jhl\ndir sjw\ndir zpfdtl\n$ cd bvm\n$ ls\n22841 fbcgh.mrp\ndir hsswswtq\ndir hstg\n41317 ndrt\ndir nvmvghb\n239316 ptsd\ndir qtwvdtsp\n98555 vzh\n$ cd hsswswtq\n$ ls\ndir ddcjvjgf\n127104 plwvb.pbj\ndir ptsd\ndir qhp\ndir rjtrhgwh\n$ cd ddcjvjgf\n$ ls\n135870 bwtbht.dwq\n81968 gcwcp\n182253 mrbh.wmc\n275931 nsrqrts\n322128 pfpcp\n$ cd ..\n$ cd ptsd\n$ ls\n214981 jsrlsc\ndir wpbdrcw\n$ cd wpbdrcw\n$ ls\n197849 mljfb.ggb\n173586 ptsd\n$ cd ..\n$ cd ..\n$ cd qhp\n$ ls\n293198 bnrgl\n$ cd ..\n$ cd rjtrhgwh\n$ ls\n224393 clrp.nst\n$ cd ..\n$ cd ..\n$ cd hstg\n$ ls\n51671 gdsfpc\n209216 hsswswtq\n97203 jlnr\ndir thdhg\n57399 tssm\n$ cd thdhg\n$ ls\n201896 jjp.wvw\n$ cd ..\n$ cd ..\n$ cd nvmvghb\n$ ls\n210047 gfcrzgj\ndir rqjbplv\ndir rvwd\n292931 sgwvcqfr.bpq\ndir vtjd\n$ cd rqjbplv\n$ ls\n105204 gcwcp\n$ cd ..\n$ cd rvwd\n$ ls\n66170 jdfwmhg\n$ cd ..\n$ cd vtjd\n$ ls\ndir ptsd\n$ cd ptsd\n$ ls\n300524 bwtbht.dwq\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd qtwvdtsp\n$ ls\n289574 wctgtq\n$ cd ..\n$ cd ..\n$ cd hsswswtq\n$ ls\n24935 gcwcp\ndir jzpbdcmc\n26834 mljfb.ggb\n182501 phnmlsjp.pjc\ndir pttnl\ndir qdtbvqjj\ndir vst\n$ cd jzpbdcmc\n$ ls\n297521 grbwdwsm.znn\ndir qwc\ndir zzswd\n$ cd qwc\n$ ls\n81143 hsswswtq.rjw\n54843 mjvvfsz.rgz\n273051 pfwgtmtt.ccs\n$ cd ..\n$ cd zzswd\n$ ls\n216062 vlbwz.zmh\n$ cd ..\n$ cd ..\n$ cd pttnl\n$ ls\n257733 mljfb.ggb\n250887 pfwgtmtt.ccs\n$ cd ..\n$ cd qdtbvqjj\n$ ls\n34667 gcwcp\n$ cd ..\n$ cd vst\n$ ls\n70250 pfwgtmtt.ccs\ndir zpcqhml\n$ cd zpcqhml\n$ ls\n219936 jdfwmhg.zbm\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd sjw\n$ ls\n152311 nqjtvzff\n157117 pfwgtmtt.ccs\n118226 ptsd.vsm\n$ cd ..\n$ cd zpfdtl\n$ ls\n189042 gcwcp\n$ cd ..\n$ cd ..\n$ cd qdtbvqjj\n$ ls\ndir ftz\ndir hvlffb\ndir lzbb\n53335 ptsd\ndir qdtbvqjj\n$ cd ftz\n$ ls\ndir fft\n256058 gcwcp\n497 hsswswtq.vqs\n103941 hvtcz.fsg\n171587 ljlnz.ffg\n115101 mljfb.ggb\ndir qdtbvqjj\n$ cd fft\n$ ls\n58845 bwtbht.dwq\n136040 gcwcp\n256973 mljfb.ggb\n$ cd ..\n$ cd qdtbvqjj\n$ ls\ndir fgqhdh\n304573 ntm.wmc\n$ cd fgqhdh\n$ ls\n317143 gcwcp\n26010 lsfpfdqz\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd hvlffb\n$ ls\n6682 vjt.mcf\n$ cd ..\n$ cd lzbb\n$ ls\ndir bbvml\n324162 bwtbht.dwq\ndir fjs\ndir pffntc\ndir pnltt\ndir ptsd\n$ cd bbvml\n$ ls\ndir qdtbvqjj\ndir qssdcrp\ndir tssm\n$ cd qdtbvqjj\n$ ls\n246275 qdtbvqjj.cgn\n$ cd ..\n$ cd qssdcrp\n$ ls\n274399 hsswswtq\n$ cd ..\n$ cd tssm\n$ ls\ndir ssqc\n$ cd ssqc\n$ ls\n178904 njrssmlm.gcm\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd fjs\n$ ls\ndir dmvnp\n121967 fqlzlvwt\n204348 grbwdwsm.znn\n102733 jdfwmhg.qsl\n240279 ptsd.jwm\n228793 ptsd.nsh\ndir ssm\n$ cd dmvnp\n$ ls\ndir psj\ndir zjw\n$ cd psj\n$ ls\n170665 gcwcp\n56058 lsfzc.dcp\n40658 tfsllqqw.fgv\n$ cd ..\n$ cd zjw\n$ ls\n79989 fggsl.dmz\n$ cd ..\n$ cd ..\n$ cd ssm\n$ ls\n106263 bwtbht.dwq\n106259 jdfwmhg.qtb\n6246 rwbnr.tqv\n$ cd ..\n$ cd ..\n$ cd pffntc\n$ ls\n111475 qbmrdms.ldm\n$ cd ..\n$ cd pnltt\n$ ls\ndir nptfhlf\ndir zngmf\n$ cd nptfhlf\n$ ls\n223065 qrb.drh\n205674 rdgfz\n$ cd ..\n$ cd zngmf\n$ ls\n61655 bwtbht.dwq\n$ cd ..\n$ cd ..\n$ cd ptsd\n$ ls\ndir hrvrt\ndir thwtl\n$ cd hrvrt\n$ ls\n152296 pfwgtmtt.ccs\n$ cd ..\n$ cd thwtl\n$ ls\n156783 pfwgtmtt.ccs\n323304 sltc\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd qdtbvqjj\n$ ls\n320175 pfwgtmtt.ccs\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd jtgdv\n$ ls\n81164 ptsd.tpj\n$ cd ..\n$ cd vcbqdj\n$ ls\ndir crng\n330203 gvlrg\n152022 qdtbvqjj.slq\n294095 rthwj.zrf\ndir vjsbf\n$ cd crng\n$ ls\ndir gznrh\n$ cd gznrh\n$ ls\n259458 ptsd\n$ cd ..\n$ cd ..\n$ cd vjsbf\n$ ls\n47331 hlld.fzf\n147103 jdfwmhg\n$ cd ..\n$ cd ..\n$ cd wtrsg\n$ ls\n144344 dtcc\n$ cd ..\n$ cd ..\n$ cd jdfwmhg\n$ ls\n323973 qdtbvqjj\n$ cd ..\n$ cd jlcbpsr\n$ ls\ndir htrdwm\ndir jdfwmhg\ndir pwmvbhsl\ndir vwfdfmcp\n$ cd htrdwm\n$ ls\ndir btn\n105731 dlncqrbm.dgl\n158267 gqqghldt\n242513 hsswswtq.drj\ndir jdfwmhg\n212816 swsgtv.wbb\n228996 tgll.rcs\n$ cd btn\n$ ls\n50419 pfwgtmtt.ccs\n$ cd ..\n$ cd jdfwmhg\n$ ls\ndir bwc\n$ cd bwc\n$ ls\n184634 cfwg\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd jdfwmhg\n$ ls\n319749 hsswswtq\ndir jdfwmhg\n271619 jdfwmhg.znz\ndir jhmmt\n181217 mljfb.ggb\n11297 rcpl.tgf\n83423 zwscbcvm.ths\n$ cd jdfwmhg\n$ ls\n267171 cts.hlf\n$ cd ..\n$ cd jhmmt\n$ ls\n84473 jdfwmhg\n$ cd ..\n$ cd ..\n$ cd pwmvbhsl\n$ ls\ndir jsg\n171725 mljfb.ggb\n152612 qjr\ndir vfsqw\n$ cd jsg\n$ ls\n176951 jdfwmhg.fhn\n284927 ljvvtw.wcq\n153109 vnvtt\n$ cd ..\n$ cd vfsqw\n$ ls\n104559 htsrns.gws\n$ cd ..\n$ cd ..\n$ cd vwfdfmcp\n$ ls\n291404 csmvbjlt.tdf\n$ cd ..\n$ cd ..\n$ cd tvcr\n$ ls\ndir djtwv\ndir hsswswtq\n272845 mdds\ndir ndshbjzn\n65929 scpltww.twm\ndir tssm\n30516 zdpscm\ndir zqdrdzv\n$ cd djtwv\n$ ls\n271696 cwjj.hjp\n$ cd ..\n$ cd hsswswtq\n$ ls\ndir djngm\ndir hcz\ndir ptsd\n$ cd djngm\n$ ls\n317775 ltwjzpjb.rcj\n37776 qdtbvqjj.lzf\n$ cd ..\n$ cd hcz\n$ ls\n217741 pgdmr\n128868 qdtbvqjj\n306138 zbmrplsn\n$ cd ..\n$ cd ptsd\n$ ls\n304048 ftm\n120236 mdcwvvng\n$ cd ..\n$ cd ..\n$ cd ndshbjzn\n$ ls\n206408 pfwgtmtt.ccs\n$ cd ..\n$ cd tssm\n$ ls\ndir mlcnsf\ndir nbgjm\n204079 pdljvb\n185465 rqgdmbjf.rhr\ndir sfnlb\n$ cd mlcnsf\n$ ls\n249868 fqrncwd\n29146 zdz.jth\n$ cd ..\n$ cd nbgjm\n$ ls\n113314 mljfb.ggb\n$ cd ..\n$ cd sfnlb\n$ ls\n234917 tjp\n$ cd ..\n$ cd ..\n$ cd zqdrdzv\n$ ls\n40790 vtdnhzm\n$ cd ..\n$ cd ..\n$ cd vhjbjr\n$ ls\ndir glv\ndir mvns\ndir qbrnh\n$ cd glv\n$ ls\n288849 bgvqll.sfj\n259105 jdfwmhg\ndir qcjlshcv\n$ cd qcjlshcv\n$ ls\ndir nwqqjcmh\n$ cd nwqqjcmh\n$ ls\n137244 grbwdwsm.znn\n312904 mzh\ndir qdtbvqjj\n$ cd qdtbvqjj\n$ ls\ndir nlqbq\n$ cd nlqbq\n$ ls\n307636 ptsd.vtr\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd mvns\n$ ls\ndir gzqlmrdh\ndir qjhtlh\ndir tssm\ndir vthg\n$ cd gzqlmrdh\n$ ls\n274950 mlzdqwm\n$ cd ..\n$ cd qjhtlh\n$ ls\n157835 ptsd.lqm\n300380 wst.trp\n$ cd ..\n$ cd tssm\n$ ls\n15772 gcwcp\n$ cd ..\n$ cd vthg\n$ ls\ndir gdndtlnc\n$ cd gdndtlnc\n$ ls\n3175 hsswswtq.bds\n320462 mljfb.ggb\n305508 mzvtzvqc\ndir qdtbvqjj\n154575 tssm.vgb\n$ cd qdtbvqjj\n$ ls\n236889 drnnvh\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd qbrnh\n$ ls\ndir hsswswtq\n4623 hsswswtq.rnf\n266326 jrmq.ztg\n295980 tssm.vzb\ndir wnbfzd\ndir zjzhncs\ndir zttlggt\n$ cd hsswswtq\n$ ls\n48277 gsqjdbhv\n$ cd ..\n$ cd wnbfzd\n$ ls\n97133 mljfb.ggb\n$ cd ..\n$ cd zjzhncs\n$ ls\n298303 gcwcp\ndir ggr\n113206 grbwdwsm.znn\n$ cd ggr\n$ ls\n244876 ptsd.zvb\n$ cd ..\n$ cd ..\n$ cd zttlggt\n$ ls\ndir hdbwrcm\ndir mbvpd\ndir mtd\ndir ptsd\ndir tcwqp\n$ cd hdbwrcm\n$ ls\n267323 bwtbht.dwq\n$ cd ..\n$ cd mbvpd\n$ ls\n84087 frf.smv\n$ cd ..\n$ cd mtd\n$ ls\n158543 mljfb.ggb\n$ cd ..\n$ cd ptsd\n$ ls\n112797 vtschwnb.fnp\n$ cd ..\n$ cd tcwqp\n$ ls\n90637 lbsqcj.sfn\n179097 tssm.dbl\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd vvsg\n$ ls\n168715 bwtbht.dwq\ndir bwv\ndir hsswswtq\ndir lqmnjrlb\ndir mmrfrj\n175244 vct.tsc\ndir zwvlhs\n$ cd bwv\n$ ls\n201509 gcwcp\n62815 grbwdwsm.znn\ndir gwdh\ndir mfdvcn\n166355 pfwgtmtt.ccs\ndir ptsd\n169681 qdtbvqjj.fgh\n250573 wvndzgv\n$ cd gwdh\n$ ls\n306377 sphrj.pjh\n$ cd ..\n$ cd mfdvcn\n$ ls\n27796 bvclvtrm.jlf\n65045 cghr.vzg\ndir hsswswtq\n197145 jdqztgh.pvd\n$ cd hsswswtq\n$ ls\n298155 bwtbht.dwq\n$ cd ..\n$ cd ..\n$ cd ptsd\n$ ls\n27501 grbwdwsm.znn\n231999 jdnsv\n113528 rmfmb.zzw\ndir tssm\ndir vgjfsh\n$ cd tssm\n$ ls\ndir dndv\n226375 grbwdwsm.znn\n$ cd dndv\n$ ls\n152739 sdjrzcv.tvs\n$ cd ..\n$ cd ..\n$ cd vgjfsh\n$ ls\n211409 swtbttb.vrp\n170879 vvfnf.hrp\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd hsswswtq\n$ ls\ndir qdtbvqjj\ndir tssm\n86418 vhsgq\n$ cd qdtbvqjj\n$ ls\n118588 bwtbht.dwq\n$ cd ..\n$ cd tssm\n$ ls\n113460 gml.wdg\n$ cd ..\n$ cd ..\n$ cd lqmnjrlb\n$ ls\ndir tssm\n$ cd tssm\n$ ls\ndir jdfwmhg\n$ cd jdfwmhg\n$ ls\n64663 nswd.rwc\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd mmrfrj\n$ ls\n319070 gltlwnlt.jzw\n232039 hspr\n104688 hsswswtq.jsr\ndir jdfwmhg\n88712 jdfwmhg.zcw\ndir pfr\ndir prnnpwcd\n45488 qdtbvqjj\ndir tssm\ndir wcmwrtjn\n$ cd jdfwmhg\n$ ls\n140910 bjjhtzct.stm\n$ cd ..\n$ cd pfr\n$ ls\n289538 qdtbvqjj\n217502 vvpwf\n$ cd ..\n$ cd prnnpwcd\n$ ls\ndir qdtbvqjj\n$ cd qdtbvqjj\n$ ls\ndir pqg\ndir tssm\n$ cd pqg\n$ ls\n222392 ptsd.ggr\n$ cd ..\n$ cd tssm\n$ ls\n158252 dcnvjj.zfd\n10486 jdfwmhg.qmb\n4374 qdtbvqjj.vqm\n254229 vgqfw\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd tssm\n$ ls\ndir ptsd\n$ cd ptsd\n$ ls\n173766 fvlsgqb\n35658 wtc.vvd\n$ cd ..\n$ cd ..\n$ cd wcmwrtjn\n$ ls\n160089 chfhpc\n76202 frgpdnd.ngw\n138996 jsfsfpqg.nhf\ndir mlm\ndir nbdbzsn\ndir ptsd\n278574 vrnb\n$ cd mlm\n$ ls\ndir gqwhhmvd\ndir nrzvzgrt\ndir nzplht\ndir zzp\n$ cd gqwhhmvd\n$ ls\ndir ddmvjpj\ndir jdfwmhg\n$ cd ddmvjpj\n$ ls\n273423 jdfwmhg\n43605 pfwgtmtt.ccs\n$ cd ..\n$ cd jdfwmhg\n$ ls\n239406 qctw.vzb\n$ cd ..\n$ cd ..\n$ cd nrzvzgrt\n$ ls\n20712 gcwcp\n239372 gjgdvbwb.gcz\ndir hdzhl\n124814 jdfwmhg\ndir jfzr\n295071 qwjgwqp\n221611 shrzpsj.dwh\ndir tssm\ndir wdlsvzvl\n$ cd hdzhl\n$ ls\ndir gfwbd\n184323 hsswswtq.mln\n177147 nqgqz.tnf\n4680 pfwgtmtt.ccs\n$ cd gfwbd\n$ ls\n254870 cldm.fft\n301411 tssm.cvn\n$ cd ..\n$ cd ..\n$ cd jfzr\n$ ls\ndir dvvflnnw\ndir jdfwmhg\n216389 lwtwn.ttt\n201727 pfwgtmtt.ccs\n107829 prphc.ncb\n5816 sdvq.jvn\n$ cd dvvflnnw\n$ ls\n24741 brtrbwh.wwd\n27700 mljfb.ggb\n$ cd ..\n$ cd jdfwmhg\n$ ls\n325218 bwtbht.dwq\n63718 mvl.ngz\n162645 vtd.vgp\n$ cd ..\n$ cd ..\n$ cd tssm\n$ ls\n60903 pfwgtmtt.ccs\n332768 qdtbvqjj.jwb\n$ cd ..\n$ cd wdlsvzvl\n$ ls\n142213 vgvd\n$ cd ..\n$ cd ..\n$ cd nzplht\n$ ls\n275904 hsswswtq\n157369 jdfwmhg\n84363 jvcvmbm.fht\ndir qbjqgg\n$ cd qbjqgg\n$ ls\n331934 gcwcp\n$ cd ..\n$ cd ..\n$ cd zzp\n$ ls\n151335 flsd.zmj\ndir gwlhqlp\n99086 jdfwmhg.hft\n$ cd gwlhqlp\n$ ls\n201894 glcnpqzp.jvc\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd nbdbzsn\n$ ls\n169929 bwtbht.dwq\n$ cd ..\n$ cd ptsd\n$ ls\n128999 bwtbht.dwq\ndir jtlrn\ndir pszlt\ndir ptjnh\ndir ptsd\n2981 qdtbvqjj.qcn\ndir rpb\ndir tcjgpqj\ndir tmddnh\ndir tssm\n$ cd jtlrn\n$ ls\n124888 grbwdwsm.znn\n30046 jznz.dwf\n$ cd ..\n$ cd pszlt\n$ ls\n154368 dbblsg.mzr\n$ cd ..\n$ cd ptjnh\n$ ls\n306974 grbwdwsm.znn\n82840 ptsd\n$ cd ..\n$ cd ptsd\n$ ls\ndir ftjhsb\ndir jdfwmhg\n304012 lqgtvmrl.qbj\n96971 mljfb.ggb\n$ cd ftjhsb\n$ ls\n56965 dhgds\n$ cd ..\n$ cd jdfwmhg\n$ ls\ndir lssbmtms\ndir vmwshd\n$ cd lssbmtms\n$ ls\n95453 gcwcp\n198402 mljfb.ggb\n1507 mzlmp\n40526 twlqhml\n$ cd ..\n$ cd vmwshd\n$ ls\n267087 pfwgtmtt.ccs\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd rpb\n$ ls\ndir lqbchlbp\ndir ptsd\n$ cd lqbchlbp\n$ ls\n151429 ptsd.tjz\n$ cd ..\n$ cd ptsd\n$ ls\n28900 gcwcp\n55920 llt\n$ cd ..\n$ cd ..\n$ cd tcjgpqj\n$ ls\ndir cvdlcvq\n329232 hcmj.nvp\n232764 nvtmgc.qgs\n108056 ptsd.gcn\n39056 qdtbvqjj\n91792 tssm.wqz\n$ cd cvdlcvq\n$ ls\n46978 grbwdwsm.znn\n17760 qrdbsdpj.dhm\n$ cd ..\n$ cd ..\n$ cd tmddnh\n$ ls\n238434 gggvq.tfc\n$ cd ..\n$ cd tssm\n$ ls\ndir tlllv\n$ cd tlllv\n$ ls\n198184 trmf.qqw\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd ..\n$ cd zwvlhs\n$ ls\n19923 gcwcp\n129179 grbwdwsm.znn\n214660 pghcvh\n101270 ptsd.gzl\ndir srjlz\n$ cd srjlz\n$ ls\n221301 nrcg.pqw"
  // val example: String = "$ cd /\n$ ls\ndir a\n14848514 b.txt\n8504156 c.dat\ndir d\n$ cd a\n$ ls\ndir e\n29116 f\n2557 g\n62596 h.lst\n$ cd e\n$ ls\n584 i\n$ cd ..\n$ cd ..\n$ cd d\n$ ls\n4060174 j\n8033020 d.log\n5626152 d.ext\n7214296 k"
  // println(s"Part 1: ${part1(example)}")
  println(s"Part 1: ${part1(input)}")
  // println(s"Part 2: ${part2(example)}")
  println(s"Part 2: ${part2(input)}")