val priority: Map[Char, Int] = Map.from(('a' to 'z').zip(1 to 26) ++ ('A' to 'Z').zip(27 to 52))

def findCommonChars(l: Array[String]): Char =
  l.map(_.toSet).reduce(_ & _).head

def getCommonCompartmentItems(s: String): Array[Char] =
  val compartments: Array[Array[String]] = s.split('\n').map((g: String) => g.grouped(g.length / 2).toArray)
  compartments.map(findCommonChars)

def getCommonElfGroupItems(s: String): Array[Char] =
  val groups: Array[Array[String]] = s.split('\n').grouped(3).toArray
  groups.map(findCommonChars)
@main
def day3(): Unit =
  val input: String = "QLFdFCdlLcVqdvFLnFLSSShZwptfHHhfZZZpSwfmHp\nrTJRjjbJTgzDJjdsRsfwtfNwtfmZpZNhmmzt\nbMdJjsjglnVMFCCc\nBZvZMBBBMTtZTgcCPdgtgQCrrV\nVspNDDpsGDGnRmRpRplQdrrPcPCjgDCcPQCQQj\nRVnsmspnpwFRlHGRwHHlnRSThSSvBTbFTZMqTMZMTZFh\nttffrVJWtWpgtQnZGVnNSLTHSZ\njRsjjmhdRcjcRsFcdwGLMZSnHMTSMNZN\nRjczlvjhPCcPjcvRpbglWplJBblqrGgq\nNwCWwdNQNDCwGpWNQwmJtZgPZrdJgLZcPhLddr\nblqpnFTqrLbcLPtV\nMnjqSSpqlFRvSqNDGHvWHQDwfWmm\njfLljlQhDLmlrMJQtJTJrQqQ\nNpBbjjsdMCgCCMrb\ndwspwGnSHHGsGzDDlFDjVWjfZWnP\nwQhTZwvpZFZdqWLnnwSrWC\nmfDmMFlDcPLdgDSCLCqg\nPmzclsMclMlFsHHsJZFHpT\nLfLJWNdJnBLfhndfWdZqcgDZgSqgCCSSSLDF\nbQVQmrrjPqQDZSZBCQ\nRRtGjVmRsPbPrrnNNpNHHnBnpHns\nPfbGNwGBwNcPTbGNQFBVjsjztVztVjHV\nhrdCJhmlJhZrLDRmghrmDrzqFsbgtbHqnznzznQtbjtz\nWdZdDJCDmrJmLZrLDLDZlClcSccwSPbNPfSNWfGNNWMGNc\nQwrnTSgqgFShSdfHPdbS\nBGdjmMmZMvfhvCZZPf\nBzGmzVGGGzmzGpVBtdnQqqdTQQDDqrpR\nPPRPwLQlLtbPmbwgJhrSssNlhhrgsZ\nfFTdFvTMNfzVnFqdnjgSSjjsSjhghpJs\ndvczcFzNTWVWMFLcLbQQwmbHLCLL\nHhLLDfMmTjsjmLmhsmmfZMjGtpGJtdcvnCWtZJcWGddttW\ngwrwwgzwgDpJddrJDr\nSBwBBbgVsVmRRhDM\nSZdmfdZRTQZTQgHVVGGRqZdVCjCcNCNcJRWcCBbJjCPCsNsc\nFnhzMMhDDFlzlnvpwMLrMDCsbcjNJbcJbBcBfPhCNbWj\nwzwnpDDnLvFnLlttLrzGgTVGQqZtTqSqSdfZTg\nFJJWWWrCGWdmzFlTVqqlMhmvVlNh\nbtpgtfjZjjhgggrNMThl\nDpwpfRZDZwwfwjsnjfsZnnnwGcCRCHcCCCLGHLWcrcFCWCHW\nljHHHBtjQthchhZpqqNt\nFTmJnPFwzlJPmzTgTgbFwJbMCpbMchhhqbhWCDMDhZcppM\nJwlFGwVGnFFGBGjdSsfdsG\nQsvpGhjGgswvjjwjjjvPpThJfLZCCLCSSLbFLStCFCSgtH\nmDrzdzMqqnMrDMmZnqnzNVRCStlCHFSCtJqlCLFCFLfJfJ\nmBDzNRWBDDMBpGsZcGZWGjPp\nSlLQhQsvvttFlWsWcfHHMTJfwSHwTfTf\nVZmmrRDRfpTHJcRf\njzBnDDgjPchWlsQsBW\nLTLVdTSLNTLnTSnrWvdwswsfmJwmwGsffH\nFbgCbRRppCpPbgMcZvCcGftGGltwHwGtplQQsfJw\nCRBMCvZZRgMgBbDCPcDrjLzWLVrSSzShSSNrBS\nhVJJjhjRVRZjQvDfBstsBVNBdwstHsld\npCTCcMqCThTFLFFPWcWSPHtwwdmcBHHmNtHdmwmwBl\nrMTCCWPLLPCMFhDnDrjzRrfDJD\npqMpCvMchvFNWSBdVNqQ\nzDRJJDGJJtNtmGRRWVdFWWVdSfjb\nDDJLmnJmzwGmGLTPhTCNpgcrpv\ncpPpbPWVprWcbJrrwpCwwdWrvNNFRqzNnChgqFzFnZvqFlzq\nfTtHLfSHSsNDGLSmsLvnhFqzhzlzDhhvRlFz\nmSMLHTQTmHMSfBSMTPdBJJNNVddrVrbjbJ\nzpCpBTnFgFbncznbblzdhRswdlJsLllJdw\nQqqmtWVPWvHDVmqDhjsljwRhlZldhRMQ\ntWSHDmVfmrtPHVgGRRbgTRpSgpTc\nssTbzFRtPRwTFZtvbPRMhndBqMMvMBHJnnHMMd\nWQVWzlGWVBqqdMQJMq\npVSpSSgLfjDzWrLGWWjDzzfLtbRFFNtPZRssspsNRZcRsNZb\njnPzzGlnnznWnzhvGnnpVFrZmVFcgjrrmZRFtj\nfsbgTdwdqBbfwCptVtdZRcrRCp\ngsMbgfHsBSwsGhhJWMLnWPPJ\nbpmbJpNbbbNGGmRJzJTsfdsvsNdglfhssCvC\nhWLwQjZjLhjHFFBLZldvvflrvtfjCrfjlT\nQWVQZZFDcDJJhJJc\nRmRghgRlNgfGGRmdGqhsgsZFZZpBvHpZppHcgH\ntbLCDLnLtSbbbjtPtMLtDPTvHHBpcHcsHvTcHsmZcF\nrSLrMJzDznzGmhNlVwdrRr\nvWjljMWcnSSpjmzbJVzJrTCmtGJV\nNZDDQLRqPJrPzrprTC\ngqDqqwpdHWhlgnjH\nccptcpstDvbNvHbLNRZZ\ndFjhdnjQFJlFCQSjgngJPJgWWrRNWNRtNCzrVbRzNVzZZL\nPhThFSPPSpsmTcqMwt\ncLcLlMhGMGcpGzslHFHFvnHlBDvWbT\nVHdQwqPJdPwjJPdPQRrmjjjQnTFrbvNWFFffDvbvvNDvbBNN\nRwRJCHmmdQJZZLzGphcCtz\nhVvFVjvjVWmFRQVZqTpqtwQpwpqZfp\ngvDlSBDJSlPLcLdDwzwtptqTTTzwcCCt\nJgrJGbLgvnWsmvVr\nrwmqqRqrnHQGmnjCCqCzdBzCBJBz\nhFLgbWWPWmvtLhPtgpcdjJdcBJdpJjDsgp\nlvfhSSPWtTNTTZZmfr\nbHDDssRHsjNMbJjJLQJsbTtGvSCzCGQCTzGvSqSBzT\nmmVrwhmmpfPStnTSBnhStG\npcwrptZcgFcmpgHRDjjZlDJsjbbD\nJJRrmFqJMdFFJMjjJcqGgzSCSHSCscPCHPHGZc\nVWpWptnvSmpPGCHC\nvQnDLBmbntvLBbnlldTQFlJlFFrNRd\nLPDftnHFQfwmBcBGmc\nCVqRsdqvdrlsCVsNvqwwSpTNSSDSDDBBTTSN\nlqlDRddjbblRbRqrlRRjsbvghHHnPQWjHWQWZHPHWZhFnP\nbwQsDcgsJqcsDpcQRQnpqtVSVvgSMMMfMvfVBVfdvM\nCGZFrHHPrTZNGGZZHmCZHlVfjfzjSfzBtBBNSBVjvntf\nChrCCLGrTlhJnhDncRbp\nnmFnhfTQjSzfjddZWsRRRFRFGl\nHDgCwgtQbZlHsrqHHr\ncJPCgCCPbpbgDMPvMQnjmnhTfmzLpQQmjz\nQFHSQdNMCSgcSgFtttPNFJpCpnTjZlbblpppZplZjz\nLqLsWMRRfrrWMmMGpbTnbppbZnTjpnmm\nfWBrMqWsGswGfGRMMwrLgtPPdNFBQPHNHNPPcFPP\ndngbSppJSSppbVMZQQMjqfQQgwcl\nTWmSWtvCRCWjwfjqQqMstq\nFhFvRzSTNmhHnVPhGhBJdBpB\ngcHPgzGmPPwTsSTsbwbdWD\nQjBLLfVhhBqqBFQLrLjVFlNpNDtsSWTDdNptdbqbdS\njCMFLVjFBFjJJLFFMVBFrLnvPzHRmHPGnGWWcCvzHRZm\nPDPqWWjhPpPbCsjwjTVbLT\nSrtCttGRMddSVwHFSs\nJtfvttmrGMRRJzJCqhqqqWQZhCNgJZ\nChrCVFQCVQlwQNwpQcmmcjmWBmddghjjdW\nsbDTZStTqqfSBggPmWjWWNsL\nTHqqSHDTtZTDTHZZbHTzRzFvlFCVprFprQVnCzNppQrz\nPdfWCwMWjPSrdgCMnnlGsGQvvpJZvFGnps\nDmBhVBLbbVqVBzTRLBRzzTLNNpRQNNZQZppZvlQpZvllvF\nzVDtVHBbbTbzDbrjgWjMPtMWPMlj\nJLsTTNDsgTMNvDQpLpGpLGNJShrfzCFnSnSrnfzCfTFhWrfw\nZcqrRddHZZVRfzWnVWCzWFnn\ntZHZtrHHPdRtdHlcccQggsplpJDNvMGNGMss\ncMCLfStfMTCjPMPcGzjftMbgsRNmRgmmGsmnJbNJbghJ\nQHVVWrFFWZNShHSgbSJm\nqZwwrrpqpZpZFvqrQdFlQVSwLBMBfTTLTjLBCcdTMzMftPPB\nSwsdBTvgvJLPNptpCpCmBDtn\nwffrzwGFWFNZWpjWZnNm\nzrfflbRwJPhbPbsS\nHjHHRtwjnjRblQRttHwQGvGWNNBWvqGzfTvfNN\nFmScCcrsdVZrpBrVcCVFzffvzzmWGLWgqWqgGWzW\nSFVSDDBdsdDSJhnjJltJbPtHRM\nFjGFVqWrzQFlQrZzGQzFLTvfwwTgMnvcnbRMLRdnfb\nCCttSNsSnRfgncSg\nCNspmDBPtPmJJNBJPNpDhQZVzQlhqrGZflfVjQFrQj\ndNNdHWcmdmPPptmmWHpPTFFjJPGrQsVsPQGGGJVDrVVGrS\nMhZlZhlgflgfnfDtjbjJGbtnVtGS\nLtZqlzhzqMZWHHLwdHmFWp\nllNRlfwWRwwLlwFNNgRrVCBjdjCVdjpWjtVWCD\nHTQqzPqzQPmhhmSPznSsssJtdnMZddtMCjprtMjCnBVnjZ\nPzHQmqsGSJPSmQqPbfwNcgNbNgNfBGwR\nlPdzlZPzQzMZQGQrTZvvpjHTTpfsTTZb\nzRShhtWRnqnqSNRnDTTHvfNJspNsLpTsjL\nhBVncVtDSnhDnDBBtGrlzwmmMlGmVrMdrP\nHPTZVHVPlHDPlfgnjJFdJdjPjSPqCS\nhLRRBhwGhqbtmsRSSSjjdMJjnJGSMj\nQrQtqrRrcQDgVglc\nZTwbbZdchZZjmVWHTrHWBVJtBB\nglslCDqLLDfGRqlsgLssfrCHBHFHmrHBBppFmCJWWp\nfRzvvvgGgNSNvmQbSQ\nqPGGPwCTqTzHCvPGqWdLFLssLpstLLspvd\nnjJchhcbjbDrbcLNlLrpWWrLLHgp\nDQhMMMJQMQJnVbbnRHSMPwZmGZPZRTRCwTZmZGwz\nzzGNfPbcgdPqLrqvWWVzMq\nDGmJtnJTJRhhJMhCQqCLCLrrLM\nZnHDtSZlTBHnBdccGSfGcwjjdb\nFpZDpQZDvMwZpCCMdCBPpJGPPLgJGGLffJJL\njlbswNrlPPJJfGlf\nbnNwqbHnNwRSrqhbdCcmHddQzddFDdvZ\ngbQQQngWPVVtvvPQNVNvWWSHGwDsCCmDtHSlmrssDmHs\nfqhMLFFMMZqZMRZqMjRMqLJSCdFlrrldsDrCsDSSHHGCSC\nMJRZLZLGMcTqczjNPzNnzPvWBVgNnP\ngqdbBffTvlRHbwLl\nnMMQJQpGdsFpQsJzNMRLLDlmLLmjFFmLjDRF\npzGMnVcMBfTdtBBV\nWSbfmrrrrWdbWmdfDSSStmHjtMtvCLVnqBHCVGtVGnMM\nlRcgFRZhJgnMLjvGgv\nlcvwTcFTplvwphzcTTJTbsdsPSPDdbmzmDSWPsSm\nbbdTjTQTQMsZNqqhJrZslg\njFGVjwfCPVGfwjCVqWhWZFgqWrglllNN\nPjfSPzRBjCCfSBCGBLznTndHcdMLbMmmdT\nwSVMJSVccdGwGnsgbVTTbRsCRNgN\nrHjhHLmrhPJrqjNTRDgBbbRRRs\nzqmPPqqpPLzltrMdJcZpfdpGWWJJ\nZhrBBJGrgJhGHttGGVPPcPPF\ncnzLqNssfRnpfWqsLfcfWQNMbMVPDtnDtbHFtMbPtVPFFM\njfqzCCLsWQLcjgldjmljmgTd\nwghGSSGZPVwgqtwtwCCtFFMM\nBvbspnBznvvWHWHHHbCQptQFQlFcqMClqLLq\nJWzzsJHWzfWjJrvMBWHBBGDmVDrVhZmmgSPSmZVVrh\nccRMJRsjjgJgcPCSCCVCwsSWVNzp\nWQQqnmrBWtqWqdSbVwwBSpbbCSBB\nQvDqmqqmgWPWjPvW\nmsqpjDWspRWwvFvDWWhnbbJfPzFQblJJPlnz\ngGGrMTgLVBsBBLdsVTrSCBffHQfdHhnbPPPPffndlbzh\nZCVsCGSScsLZpwNpqmZRqW\nPPsGmJPVPQPZmsQCVPJPnPCMDcTcdqDDTqvFhvnTjRDTDchq\nBdrtzNBLHStHrdrlwfNThvFhcvbDccThjbFBqq\nSSgdHNfSHHgzLHtLNWSPQQPMQVpmmppVCmQZCW\npPssrWWLdndHPJdd\nQNQFTLNBFTzzgjfGTjffFNZjCSGnHDnSDJHnDScttDCcDnmd\nFVzVLZwZZgswqqrbphbR\nVpWCZjCwWnppZpqnhNjjNZjFLtLzQJHdHLQRzWLRzRztHJ\nDMGPmPMgTSmsgQzRFbdHRLJgdn\ncsDMPMGDDvMSSPnDTvrDChhwljlqNNjchNCjNVcf\nWpGGmbSGpVWWpjMMTNdfCFNdFfRNwNSF\nJsQztzrvrJqsTTRbbvFBhhhv\ncLrDqLccsLqbDHGpZWDHgjGlZW\nQGMQJMmsJmMCmmqjsRvLvvdgvgVvDVdD\nBDcrcNbNppwTpzRdvvchhFvfFv\nplBBwWrbpQHDjGmGJl\nmzFlTdmSDzrPvCJqqDVVNC\nhfRmhgjRhnfwnRHcnhGGvPJQPvvfLfQvNLGv\nBhhnjMgRWghpwjRWMRjrZzdbSbsdstTrltdmMs\nbLLnbqjpvplnDvNlqpqBWJZSdPJCNdJJThhSPhTd\nHFwHHQMMFHGzGwRPPJPTWthTZtJSQr\nmfWMHFHWHmgmFcwGwwpbDljqjBDcDnLcVnlb\nwBrWBwSWRJMBwdZnPQPgFnwGVF\nfLjfbsvDDfvvqqGqZGqmPQgqTGGG\nvZLsjzjjZCzJWRNSBR\njTRbRHHqPqTRBHqdjhgvgghhZQdDvvgvhC\nWLWWzzFszsmNFGWSFmMrpghCtZvhlQNDgQCDgctC\nFJsLsSrDmsFSDLWrzJmmMsGqjRBVbJTBVPVBbBqRjPBjHn\nQbwwnDDQDcDfSbDbfhhrvrCtJMvJSCvvJh\nFWRjjLjmdZWdWNBFNWNlNQQrMGvvMGgssGvQRvrMJs\nBjWdlBpmdmBWFWdpWfPfpVnVwfHpqPQDbq\nSqrvlMldqvSWdGPTGzWpWpzpHP\ntRwmhtbsRRFsLwGGTVDHppTNdbVp\nFRCRQdCFtCLmBhCcmmQdhFdCvnfjffjZlZnjSnvfcSrrgMgn\nGQQtNJQWWcqPPhMMtwqD\nWpWLlBWZCvhjwMMZqDDP\nWgvmLVmHCbpppLgdllHddvCmFGzGnfsJJQJsJncSsccFVffF\nHcSsSlTTvvPPWWNMWWgPTPPbGbbrwJQbrrDphrHJJRpRhp\nztfLqqzmRwDGlLDb\nfdVtmqjdZBmSvjsPSWlTgv\nDPvDhhMRRMhRNDLPMNsbwHwrjgnddqddrWdPtHzr\npcBGSpcVBfJWCcmJGGwHtzgrrtwqzdrtrngG\nmllBlBZmMlQWRbQv\nSGZBSFMZllJWmzvfpp\nNTqbNrhHNHWgNqHrNhNQbbjHJLcnfnzLLnLmfcfccJcfQLcL\nHggbTNRRTHqqbVSGMSZVWDMDwVPs\nSBsSlvbPlFPvRlbPsMFZLgVLrLsJVgzrCJfVCH\njcNddNdGzZrVgNVJ\ntTGwdcmWGdtwQmwmwZdwSlhBPbhPTBFRhlhSMFMR\nRzStzTzzvvQvSHVvhVgBqMMFqhPM\nddlLLwNVLWLjbbLrjrbWrwmlhcFmBGgFMMPgBcGBBqPhggMs\ndLwdVCVWWdfNwNwLrWrbfbJNptzDDHRnHptHtznHTppnQCtR\nRzcfMBHLzpDQFmnDSWNB\ndbqjtjVqJZZGjPGJCPGbPndNNDglrmQmNSDgSlSSng\nhjCTqhCJbhVCGNvMcfvhfRLhvchz\nsDDqDMtqshJhPvhhCpSCCWlZHSWp\nbffRcbBGGTwGfGfbNjgSHZSgWwplHCClZZ\nRTQBbcnbRNmGbGTQLbmbJVqLllsDVMsPDVVvttMd\nnbLBjnqwgfRRBgBwnllbLlwScvPdZPcScZPcdFZJPvZPvcMZ\ntChQpphHrrHztssZdcDJcPZcMvWv\nhpTHVMQMtQtVpzBfwjfRnfwfnjVl\nljJlvvJQlrlcJcWpPzgthnPnzMgpgSpC\nsmtmZBmHZTVttHmqFqmzCSZSdndzShPNgPShgP\nbVqFHLqLqfHHFwbBLHcwDQrDrtjlQvGjlRQQ\npwhVsPvVVCFtmhPhzqGqqZMZvGTTTMlGWM\ndrrrrDfDRrNQdQdrRrBdjGWqWqWlGlGtlGbGZGBTLc\ntSDfgnHrdDtVSPSshJCSPh\nWlWlDqhglLhsdgrcbFdJJpPpdBbB\nZQZvSvzRMSzjZjvZmMMpbFPQFVBrVbPcpbJFLB\nSwGZmjvCRSMRjMzZvRnstHftNfswHsflLhNWHf\njsprCvGRQrtjCsQrGsrzvGHhgmHVmHZgggmMGVmhMbHm\nFFFdDSdwSffJWqqMzzMmDVbZ\nLLcdcfcfPwwBzdTTdtvlsrjCtvPvprnsjR\nMvtSqNSWMzjwzFTD\nZRPlcRpQszNgszNwVT\nbcZcrcPlcPLLLZllPlbcbLSBfWCvHvWWNSmSqNqfWN\nrNdZpMGnddgggwHwzRPCzDDD\nvcvhcTLhZLhLPCPHPDPPVvzH\nLTmBmthWBchWLttttFJFLlFnGJNsfpdjNsnMnMpnpZdssn\nZHWFCvqBDdqqqCTDHHBWrgppTMhhVpspMPQcSgQVPS\njblbGffntRwltfMQVrrQscphfg\nztJrGtbwGztbmtzzRGnRznWNNCWmHHdFHdFNWWHHqCqZ\nWGWSSZvVvqmrmzPm\nNgjtwFFlwDsFghNsMtlcjljcPqrQHcZzQznpQQprnqqzHQ\ntgMCwNhtgbdLZRbZCT\nPQSPQrSGZnGnVFhpVhRRlvLvBDRV\ntjctcjTMMpDTvFTlRD\nJCftsccFCcmsJJGZGGmPHnQrGwGS\nTrjRFFRnpnRCHNFSjSRrffJvJfzqQBsjqQqzzffd\nZtlgMDhZhgmGDLVZLlGtLPqdQQvvfBJJqzzBPdMzdd\nVlLDgLLDWtGZwgtRNTNrFTqCwqHTrr\nLpcDFDMMPjMLLjpcDGCHgHssGHWnbCBWBHvm\nQfZhrhVVdZThlZlfVvVzZrTbgQnBHsCCHgJBsCsJBHmBmn\nwwtvfZztlTVlhtrzzlLNpFFRjMPDpRcPFwRj\nVzZhhQHQJJWJSSFWDGclbmNPgglPgVGc\nddBTqCjjBCcrqrCRrwGPGmmDGmbpBGNpNNgg\nCRMjwsjwsLdLRrQFJSvMFMWZcHFW\nJgJJPvtrhRPQQzSRMQFFSF\nBLqsjsdLsMBqblnsGbBqVqdwSQSCSWwNFwczQWCNNwNCHn\nljqbpLbbdDlbDbqDDVtMttTTgpJJgThhJrJr\nnflndmjbSnlTQGwvWGPHGRGj\nNtstcMcDJMvwgHfFvDgR\nqqqpLrMsLLqLNNnzbrdlbZSrznfz\nttZCCFjNjnPVCFQPPFbbStrzqzqrrrcwtmJJ\ngTTMRMTWsTGGTddHTTbBzBLSmqbbJGzGmqqb\nHpgpMTvRhHHTRDhMsHdHDRhjJlVPJjNFJnnFpQQVfPCjnP\nVqJVQPpjQqPBbHwldmLfVVmd\ntMGvrzzDGCDDddwLbgLvLwcm\nTWDWCzTZDGMZtzWWtsFhbRRqRQRjhbNQBBTh\nzgLgLHnnzCCvnsHSsZBZBsTRdD\nrslllhJjcQNNGjpWJlSRTRdwBVSSNTPVSdPB\njGrGqjJfqccrfqGcGplrJpFvzggqmCtMzmsMnvMvvCgm"
  val example: String = "vJrwpWtwJgWrhcsFMMfFFhFp\njqHRNqRjqzjGDLGLrsFMfFZSrLrFZsSL\nPmmdzqPrVvPwwTWBwg\nwMqvLMZHhHMvwLHjbvcjnnSBnvTQFn\nttgJtRGJQctTZtZT\nCrZsJsPPZsGzwwsLwLmpwMDw"
  println(s"Part 1: ${getCommonCompartmentItems(input).map(priority).sum}")
  println(s"Part 2: ${getCommonElfGroupItems(input).map(priority).sum}")
